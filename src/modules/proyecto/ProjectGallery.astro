---
/**
 * ProjectGallery — Galería asimétrica estilo museo
 * Grid variado, captions numerados, todas las imágenes en grayscale
 */

interface GalleryImage {
  src: string;
  caption: string;
  size?: "full" | "half" | "third";
}

interface Props {
  images: GalleryImage[];
}

const { images } = Astro.props;
---

<section class="project-gallery section-spacing">
  <div class="container-archon">
    <h2 class="section-title font-serif">Documentación Fotográfica</h2>

    <div class="gallery-grid">
      {
        images.map((image, index) => (
          <figure class={`gallery-item gallery-item--${image.size || "half"}`}>
            <div class="image-wrapper">
              <img
                src={image.src}
                alt={image.caption}
                class="gallery-image"
                loading="lazy"
              />
            </div>
            <figcaption class="image-caption font-mono">
              <span class="caption-number">
                {String(index + 1).padStart(2, "0")}.
              </span>
              <span class="caption-text">{image.caption}</span>
            </figcaption>
          </figure>
        ))
      }
    </div>
  </div>
</section>

<style>
  .project-gallery {
    background-color: var(--color-background);
  }

  .section-title {
    font-size: clamp(2rem, 4vw, 3rem);
    font-weight: var(--font-weight-bold);
    color: var(--color-foreground);
    margin-bottom: var(--spacing-2xl);
    letter-spacing: -0.01em;
  }

  /* Gallery Grid - Asimétrica */
  .gallery-grid {
    display: grid;
    grid-template-columns: repeat(12, 1fr);
    gap: var(--spacing-xl);
  }

  /* Gallery Items - Tamaños */
  .gallery-item {
    margin: 0;
    display: flex;
    flex-direction: column;
    gap: var(--spacing-md);
  }

  .gallery-item--full {
    grid-column: span 12;
  }

  .gallery-item--half {
    grid-column: span 6;
  }

  .gallery-item--third {
    grid-column: span 4;
  }

  /* Image Wrapper */
  .image-wrapper {
    position: relative;
    overflow: hidden;
    background-color: var(--color-border);
    border: 1px solid var(--color-border);
    aspect-ratio: 4 / 3;
  }

  .gallery-image {
    width: 100%;
    height: 100%;
    object-fit: cover;
    filter: grayscale(100%);
    transition: transform var(--duration-slow) var(--ease-smooth);
  }

  .gallery-item:hover .gallery-image {
    transform: scale(1.02);
  }

  /* Caption */
  .image-caption {
    font-size: 0.8125rem;
    line-height: 1.5;
    color: var(--color-muted);
    display: flex;
    gap: 0.5rem;
  }

  .caption-number {
    color: var(--color-foreground);
    font-weight: var(--font-weight-semibold);
  }

  .caption-text {
    flex: 1;
  }

  /* Responsive */
  @media (max-width: 1024px) {
    .gallery-item--third {
      grid-column: span 6;
    }
  }

  @media (max-width: 768px) {
    .section-title {
      margin-bottom: var(--spacing-xl);
    }

    .gallery-grid {
      grid-template-columns: 1fr;
      gap: var(--spacing-2xl);
    }

    .gallery-item--full,
    .gallery-item--half,
    .gallery-item--third {
      grid-column: span 1;
    }

    .image-wrapper {
      aspect-ratio: 3 / 2;
    }
  }
</style>
